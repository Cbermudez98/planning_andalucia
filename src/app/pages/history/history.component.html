<div class="container">
  <div class="row">
    <div class="col">
      <form [formGroup]="formWeek" (ngSubmit)="addNewHistory()">
        <div class="row">
          <div class="col-md-4">
            <app-input [control]="week" label="Semana" type="number"></app-input>
          </div>
        </div>
        <button type="submit" [disabled]="this.formWeek.invalid" class="btn btn-outline-primary mt-2">Agregar</button>
      </form>
    </div>
    <div class="row mt-4">
      <div class="col-md-3">
        <div class="mb-3">
          <label for="formFile" class="form-label">Seleccionar archivo para importar</label>
          <input class="form-control" accept=".csv" (change)="uploadFile($event)" type="file" id="formFile">
        </div>
      </div>
    </div>
    @if(preview) {
      <div class="col-md-6">
        <div class="mt-4">
          <div class="preview-card custom-card">
            <div class="card-body">
              <p><strong>Asignatura: </strong> <span id="previewSubject">{{preview.name}}</span></p>
              <p><strong>Grado: </strong> <span id="previewGrade">{{preview.grade}}</span></p>
              <p><strong>CÃ³digo: </strong> <span id="previewCode">{{preview.code}}</span></p>
            </div>
          </div>
        </div>
      </div>
    }
  </div>

</div>

<div class="container">
  <div class="row">
    @for (item of history; track $index) {
      <div class="col-md-3">
        <app-card [week]="item.week" [id]="item.id"/>
      </div>
    }
  </div>
</div>
